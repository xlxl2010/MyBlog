<!DOCTYPE html><html style="display:none" lang="zh"><head><meta charset="utf-8"><script>window.materialVersion="150g",window.oldVersion=["1.5.0","1.5.0a","1.5.0b","1.5.0c","150d","150e","150f"]</script><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://s.nfz.yecdn.com"><title>Interative 调速器有关参数分析 | neoFelhz&#39;s Blog</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#455A64"><meta name="author" content="neoFelhz"><meta name="description" itemprop="description" content="Interative是目前常用的一种 CPU 调速器，其特点是 CPU 频率是根据负载实现交互式反应。但是与ondemand和conserative不同的是，interative拥有一些不同的参数配置方式。"><meta name="keywords" content="neoFelhz, blog, hexo, Android, Web, neo, 博客,Android,温控,CPU,Interactiv,调速器"><script>window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}},lsloader.removeLS=function(e){try{localStorage.removeItem(e)}catch(e){}},lsloader.setLS=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},lsloader.getLS=function(e){var t="";try{t=localStorage.getItem(e)}catch(e){t=""}return t},versionString="/*"+(window.materialVersion||"unknownVersion")+"*/",lsloader.clean=function(){try{for(var e=[],t=0;t<localStorage.length;t++)e.push(localStorage.key(t));e.forEach(function(e){var t=lsloader.getLS(e);if(window.oldVersion){window.oldVersion.reduce(function(e,n){return e||-1!==t.indexOf("/*"+n+"*/")},!1)&&lsloader.removeLS(e)}})}catch(e){}},lsloader.clean(),lsloader.load=function(e,t,n,s){"boolean"==typeof n&&(s=n,n=void 0),s=s||!1,n=n||function(){};var a;if((a=this.getLS(e))&&-1===a.indexOf(versionString))return this.removeLS(e),void this.requestResource(e,t,n,s);if(a){if(a.split(versionString)[0]!=t)return console.log("reload:"+t),this.removeLS(e),void this.requestResource(e,t,n,s);a=a.split(versionString)[1],s?(this.jsRunSequence.push({name:e,code:a}),this.runjs(t,e,a)):(document.getElementById(e).appendChild(document.createTextNode(a)),n())}else this.requestResource(e,t,n,s)},lsloader.requestResource=function(e,t,n,s){var a=this;s?this.iojs(t,e,function(e,t,n){a.setLS(t,e+versionString+n),a.runjs(e,t,n)}):this.iocss(t,e,function(n){document.getElementById(e).appendChild(document.createTextNode(n)),a.setLS(e,t+versionString+n)},n)},lsloader.iojs=function(e,t,n){var s=this;s.jsRunSequence.push({name:t,code:""});try{var a=new XMLHttpRequest;a.open("get",e,!0),a.onreadystatechange=function(){if(4==a.readyState){if((a.status>=200&&a.status<300||304==a.status)&&""!=a.response)return void n(e,t,a.response);s.jsfallback(e,t)}},a.send(null)}catch(n){s.jsfallback(e,t)}},lsloader.iocss=function(e,t,n,s){var a=this;try{var o=new XMLHttpRequest;o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState){if((o.status>=200&&o.status<300||304==o.status)&&""!=o.response)return n(o.response),void s();a.cssfallback(e,t,s)}},o.send(null)}catch(n){a.cssfallback(e,t,s)}},lsloader.iofonts=function(e,t,n,s){var a=this;try{var o=new XMLHttpRequest;o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState){if((o.status>=200&&o.status<300||304==o.status)&&""!=o.response)return n(o.response),void s();a.cssfallback(e,t,s)}},o.send(null)}catch(n){a.cssfallback(e,t,s)}},lsloader.runjs=function(e,t,n){if(t&&n)for(var s in this.jsRunSequence)this.jsRunSequence[s].name==t&&(this.jsRunSequence[s].code=n);if(this.jsRunSequence[0]&&this.jsRunSequence[0].code&&"failed"!=this.jsRunSequence[0].status){(o=document.createElement("script")).appendChild(document.createTextNode(this.jsRunSequence[0].code)),o.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(o),this.jsRunSequence.shift(),this.jsRunSequence.length>0&&this.runjs()}else if(this.jsRunSequence[0]&&"failed"==this.jsRunSequence[0].status){var a=this,o=document.createElement("script");o.src=this.jsRunSequence[0].path,o.type="text/javascript",this.jsRunSequence[0].status="loading",o.onload=function(){a.jsRunSequence.shift(),a.jsRunSequence.length>0&&a.runjs()},document.body.appendChild(o)}},lsloader.tagLoad=function(e,t){this.jsRunSequence.push({name:t,code:"",path:e,status:"failed"}),this.runjs()},lsloader.jsfallback=function(e,t){if(!this.jsnamemap[t]){this.jsnamemap[t]=t;for(var n in this.jsRunSequence)this.jsRunSequence[n].name==t&&(this.jsRunSequence[n].code="",this.jsRunSequence[n].status="failed",this.jsRunSequence[n].path=e);this.runjs()}},lsloader.cssfallback=function(e,t,n){if(!this.cssnamemap[t]){this.cssnamemap[t]=1;var s=document.createElement("link");s.type="text/css",s.href=e,s.rel="stylesheet",s.onload=s.onerror=n;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a)}},lsloader.runInlineScript=function(e,t){var n=document.getElementById(t).innerText;this.jsRunSequence.push({name:e,code:n}),this.runjs()}</script><script>function Queue(){this.dataStore=[],this.offer=function(e){this.debug&&console.log("Offered a Queued Function."),"function"==typeof e?this.dataStore.push(e):console.log("You must offer a function.")},this.poll=function(){return this.debug&&console.log("Polled a Queued Function."),this.dataStore.shift()},this.execNext=function(){var e=this.poll();void 0!==e&&(this.debug&&console.log("Run a Queued Function."),e())},this.debug=!1,this.startDebug=function(){this.debug=!0}}var queue=new Queue</script><link rel="icon shortcut" type="image/ico" href="https://s.nfz.yecdn.com/favicon.ico"><link rel="icon" sizes="192x192" href="https://s.nfz.yecdn.com/favicon.png"><link rel="apple-touch-icon" href="https://s.nfz.yecdn.com/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="neoFelhz&#39;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="480"><meta name="mobile-web-app-capable" content="yes"><meta name="google-site-verification" content="o1-IzSRJ5n6Bn_94myQyxyyETTy4HFuJePSeemMT0Tc"><link rel="alternate" type="application/atom+xml" href="//blog.nfz.moe/atom.xml"><!--[if lte IE 9]><link rel="stylesheet" href="/css/ie-blocker.css"><script src="/js/ie-blocker.zhCN.js"></script><![endif]--><style id="material_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("material_css","https://s.nfz.yecdn.com/css/material.min.css",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style id="style_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("style_css","https://s.nfz.yecdn.com/css/style.min.css",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style>body,html{font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",SimSun,sans-serif;overflow-x:hidden!important}code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace}a{color:#607d8b}#scheme-Paradox .hot_tags-count,#scheme-Paradox .sidebar-colored .sidebar-badge,#scheme-Paradox .sidebar-colored .sidebar-header,#scheme-Paradox .sidebar_archives-count,#search-form-label:after,#search-label,.mdl-card__media{background-color:#546e7a!important}#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus,#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover{color:#546e7a!important}#ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a,#post_entry-right-info,.sidebar-colored .sidebar-nav li:hover>a,.sidebar-colored .sidebar-nav li:hover>a i,.sidebar-colored .sidebar-nav li>a:focus i,.sidebar-colored .sidebar-nav li>a:hover,.sidebar-colored .sidebar-nav li>a:hover i,.sidebar-colored .sidebar-nav>.open>a,.sidebar-colored .sidebar-nav>.open>a:focus,.sidebar-colored .sidebar-nav>.open>a:hover{color:#546e7a!important}.toTop{background:#546e7a!important}.material-layout .material-index>.material-nav,.material-layout .material-post>.material-nav,.material-nav a{color:#546e7a}#scheme-Paradox .MD-burger-layer{background-color:#546e7a}#scheme-Paradox #post-toc-trigger-btn{color:#546e7a}.post-toc a:hover{color:#607d8b;text-decoration:underline}</style><style>body{background-color:#eee}#scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{background-color:#fff}</style><script>lsloader.load("jq_js","https://s.nfz.yecdn.com/js/jquery.min.js",!0)</script><meta property="og:url" content="https://blog.nfz.moe"><meta property="og:type" content="blog"><meta property="og:title" content="Interative 调速器有关参数分析 | neoFelhz&#39;s Blog"><meta property="og:image" content="https://s.nfz.yecdn.com/favicon.png"><meta property="og:description" content="Interative是目前常用的一种 CPU 调速器，其特点是 CPU 频率是根据负载实现交互式反应。但是与ondemand和conserative不同的是，interative拥有一些不同的参数配置方式。"><meta property="og:article:tag" content="Android"><meta property="og:article:tag" content="温控"><meta property="og:article:tag" content="CPU"><meta property="og:article:tag" content="Interactiv"><meta property="og:article:tag" content="调速器"><meta property="article:published_time" content="Fri Dec 23 2016 17:10:00 GMT+0800"><meta property="article:modified_time" content="Fri Dec 23 2016 09:10:00 GMT+0000"><meta name="twitter:card" content="summary_large_image"><link rel="canonical" href="https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html"><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html",
    "headline": "Interative 调速器有关参数分析",
    "datePublished": "Fri Dec 23 2016 17:10:00 GMT+0800",
    "dateModified": "Fri Dec 23 2016 09:10:00 GMT+0000",
    "author": {
        "@type": "Person",
        "name": "neoFelhz",
        "image": {
            "@type": "ImageObject",
            "url": "https://s.nfz.yecdn.com/img/pwa-icons/icon-96x96.png!t"
        },
        "description": "孤独之人 不应执着 为何仍追逐幻梦"
    },
    "publisher": {
        "@type": "Organization",
        "name": "neoFelhz&#39;s Blog",
        "logo": {
            "@type":"ImageObject",
            "url": "https://s.nfz.yecdn.com/favicon.png"
        }
    },
    "keywords": ",Android,温控,CPU,Interactiv,调速器neoFelhz, blog, hexo, Android, Web, neo, 博客",
    "description": "Interative是目前常用的一种 CPU 调速器，其特点是 CPU 频率是根据负载实现交互式反应。但是与ondemand和conserative不同的是，interative拥有一些不同的参数配置方式。",
}</script><meta http-equiv="Content-Security-Policy" content="block-all-mixed-content"><link rel="manifest" href="/static/manifest.min.json"><style id="neo_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("neo_css","https://s.nfz.yecdn.com/static/css/neofelhz.css",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><script type="text/ls-javascript" id="ga-send-data-script">window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-83054354-3','auto');ga('send','pageview');</script><script>lsloader.load("ga_js","https://s.nfz.yecdn.com/static/js/jquery.ag.3.js",!0)</script></head><body id="scheme-Paradox" class="lazy"><div class="material-layout mdl-js-layout has-drawer is-upgraded"><main class="material-layout__content" id="main"><div id="top"></div><button class="MD-burger-icon sidebar-toggle"><span class="MD-burger-layer"></span></button> <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon"><i class="material-icons">format_list_numbered</i></button><ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh;overflow-y:scroll"><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#负载 - 频率机制"><span class="post-toc-number">1.</span> <span class="post-toc-text">负载 - 频率机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#target-loads"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">target_loads</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#min-sample-time"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">min_sample_time</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#timer-rate- 和 -timer-slack"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">timer_rate 和 timer_slack</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#应急反应机制"><span class="post-toc-number">2.</span> <span class="post-toc-text">应急反应机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#hispeed-freq"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">hispeed_freq</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#go-hispeed-load"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">go_hispeed_load</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#above-hispeed-delay"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">above_hispeed_delay</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#鸡血模式"><span class="post-toc-number">3.</span> <span class="post-toc-text">鸡血模式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#boost- 和 -boostpulse-duration"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">boost 和 boostpulse_duration</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#其它参数"><span class="post-toc-number">4.</span> <span class="post-toc-text">其它参数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#io-is-busy"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">io_is_busy</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#align-windows"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">align_windows</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#scaling-min-freq- 和 -scaling-max-freq"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">scaling_min_freq 和 scaling_max_freq</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ignore-hispeed-on-notif"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">ignore_hispeed_on_notif</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#fast-ramp-down"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">fast_ramp_down</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#max-freq-hysteresis"><span class="post-toc-number">4.6.</span> <span class="post-toc-text">max_freq_hysteresis</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#use-sched-load"><span class="post-toc-number">4.7.</span> <span class="post-toc-text">use_sched_load</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#use-migration-notif"><span class="post-toc-number">4.8.</span> <span class="post-toc-text">use_migration_notif</span></a></li></ol></li></ol></ul><div class="material-post_container"><div class="material-post mdl-grid"><div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col"><div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://s.nfz.yecdn.com/img/thumbnails/cpu-governer-interative-core-ctl.png!blogth)"><p class="article-headline-p">Interative 调速器有关参数分析</p></div><div class="mdl-color-text--grey-700 mdl-card__supporting-text meta"><div id="author-avatar"><img src="https://s.nfz.yecdn.com/img/pwa-icons/icon-96x96.png!t" width="44px" height="44px" alt="Author Avatar"></div><div><strong>neoFelhz</strong> <span>12月 23, 2016</span></div><div class="section-spacer"></div><button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"><i class="material-icons" role="presentation">bookmark</i> <span class="visuallyhidden">bookmark</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button"><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Android/">Android</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/CPU/">CPU</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Interactiv/">Interactiv</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/温控/">温控</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/调速器/">调速器</a></li></ul><button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"><i class="material-icons" role="presentation">share</i> <span class="visuallyhidden">share</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button"><a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Interative 调速器有关参数分析&url=https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html&pic=https://s.nfz.yecdn.com/favicon.ico&searchPic=false&style=simple" target="_blank"><li class="mdl-menu__item">分享到微博</li></a><a class="post_share-link" href="https://twitter.com/intent/tweet?text=Interative 调速器有关参数分析&url=https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html&via=neoFelhz" target="_blank"><li class="mdl-menu__item">分享到 Twitter</li></a><a class="post_share-link" href="https://plus.google.com/share?url=https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html" target="_blank"><li class="mdl-menu__item">分享到 Google+</li></a><a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=neoFelhz&#39;s Blog&title=Interative 调速器有关参数分析&summary=neoFelhz, 一枚爱折腾的萌新. 这是我的小博客一枚&pics=https://s.nfz.yecdn.com/favicon.ico&url=https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html" target="_blank"><li class="mdl-menu__item">分享到 QQ</li></a><a class="post_share-link" href="https://telegram.me/share/url?url=https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html&text=Interative 调速器有关参数分析" target="_blank"><li class="mdl-menu__item">分享到 Telegram</li></a></ul></div><div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out"><p><code>Interative</code>是目前常用的一种 CPU 调速器，其特点是 CPU 频率是根据负载实现交互式反应。但是与 <code>ondemand</code> 和<code>conserative</code>不同的是，<code>interative</code>拥有一些不同的参数配置方式。</p><a id="more"></a><blockquote><p>所以并不像一些人说的，什么 <code>ondemand</code> 非常敏感升频降频都快、<code>interative</code>升频快降频慢、<code>conserative</code>升频慢降频快。</p></blockquote><p>Interative 可用的调速器参数有以下内容：</p><h1 id="负载 - 频率机制"><a href="# 负载 - 频率机制" class="headerlink" title="负载 - 频率机制"></a>负载 - 频率机制</h1><h2 id="target-loads"><a href="#target-loads" class="headerlink" title="target_loads"></a>target_loads</h2><p>这个参数的目的是根据 CPU 负载来调整频率：当 CPU 负载升高到该参数时，内核就会升高 CPU 的运行频率以便降低 CPU 负载。该参数的默认值为 90。</p><p>该参数的格式是单个固定数值，或者是频率和负载值成对出现用冒号隔开。</p><blockquote><p>比如 <code>85 1000000:90 1700000:99</code> 表示负载在 85% 以下时，CPU 频率要运行在 1GHz 以下；负载达到 90% 时，CPU 频率要运行在 1.0GHz~1.7GHz，直到 CPU 负载达到 99% 时，频率才会升到 1.7GHz 以上。</p></blockquote><p>一般地，该参数设置的越低，CPU 升频就会越快、越频繁。</p><h2 id="min-sample-time"><a href="#min-sample-time" class="headerlink" title="min_sample_time"></a>min_sample_time</h2><p>CPU 开始降低频率前的最小时间。也就是当负载下降到达较低的区间时还需要再经过多少时间 CPU 才开始降频（也可以简单理解成 CPU 两次降频之间的间隔值）。该值越小，对降频的反应就越敏感。该参数的默认值是 80000uS.</p><h2 id="timer-rate- 和 -timer-slack"><a href="#timer-rate- 和 -timer-slack" class="headerlink" title="timer_rate 和 timer_slack"></a>timer_rate 和 timer_slack</h2><p>CPU 负载采样率。 和 <code>min_sample_time</code> 不同，<code>timer_rate</code>单纯仅仅只规定采样间隔。该设定值越小，负载采样越敏感，频率调整更为敏感，但受限于 <code>min_sample_time</code> <code>above_hispeed_delay</code> 等延迟参数。但是实际上的采样间隔可能会比设定值更长，最长时间为 <code>timer_rate</code> 和 <code>timer_slack</code> 之和。当 <code>timer_clack</code> 值为 -1 时则无上限。</p><p>调节这个参数一般不能使手机省电。比如将该值设置的较长，固然可以降低内核探看 CPU 负载的频率，节省电量，但是内核就不能及时感知到负载的下降而及时降频。这个参数的设置取决于你手机对于长线程进程的需求。</p><hr><h1 id="应急反应机制"><a href="# 应急反应机制" class="headerlink" title="应急反应机制"></a>应急反应机制</h1><h2 id="hispeed-freq"><a href="#hispeed-freq" class="headerlink" title="hispeed_freq"></a>hispeed_freq</h2><p>这个参数的目的是指定面对突发的大负载做出应急的反应操作。也就是说当负载突然升高到 <code>go_hispeed_load</code> 且该核心正在运行在较低的频率时，CPU 运行频率会瞬间升高到这个参数指定的频率。这种情况一般都发生在暂时处于闲置的核心上。<code>hispeed_freq</code> 是一个理想的高性能工作频率, 假定该频率足以应对大多数高负载工作。当 CPU 运行在这个频率超过一段时间（即 <code>above_hispeed_delay</code>），CPU 才会继续升高频率。</p><p>这个参数如果设置得较低，那么应对突发的大负荷，CPU 的运行频率可能会较低而引起卡顿；如果该值设置的太高则比较容易引起发热。</p><h2 id="go-hispeed-load"><a href="#go-hispeed-load" class="headerlink" title="go_hispeed_load"></a>go_hispeed_load</h2><p>这个参数就是规定当 CPU 负载突然到达该值时且当前 CPU 处于闲置状态（离线亦或者是运行在较低频率），CPU 就会瞬间将频率升到 <code>hispeed_freq</code> 以便应对突发状况。该参数的默认值是 99。</p><p>一般地，这个值越低，对于突发的大负荷工作，CPU 的反应就会越敏感。如果该值设置的太高则比较容易面对一些突发负载无法立刻升频做出反应引起卡顿，设置的太低则会出现过于频繁的升频导致发热和耗电。</p><h2 id="above-hispeed-delay"><a href="#above-hispeed-delay" class="headerlink" title="above_hispeed_delay"></a>above_hispeed_delay</h2><p>这个参数是设置成当 CPU 频率运行在 <code>hispeed_freq</code> 甚至更高以后，突发的负载并没有立刻降低。当 CPU 运行在该频率的时间超过该参数的指定值后，CPU 就会进一步进行升频，以便应对大长线程的大负荷。该参数的默认值是 20000us。设置该参数时可以根据 CPU 所在的不同频率设置不同的延迟。</p><p>该参数的格式是单个固定数值，或者是频率和频率区间成对出现用冒号隔开。当参数中涉及到频率时，频率必须采用升序数列。</p><blockquote><p>比如 <code>19000 1400000:39000 1700000:19000</code> 表示当 CPU 频率在 1.4GHz 以下时 CPU 要在 <code>go_hispeed_load</code> 甚至更高的负载下运行超过 19000 us 才会进一步升频；运行频率在 1.4Ghz~1.7GHz 时延时设置为 39000us；超过 1.7GHz 时则采用 19000us 。</p></blockquote><p>当该参数设置得较小时 CPU 则会较快地升频（可能会引起卡顿），设置得较大时 CPU 可能会因为不能及时升频而引起卡顿。</p><hr><h1 id="鸡血模式"><a href="# 鸡血模式" class="headerlink" title="鸡血模式"></a>鸡血模式</h1><h2 id="boost- 和 -boostpulse-duration"><a href="#boost- 和 -boostpulse-duration" class="headerlink" title="boost 和 boostpulse_duration"></a>boost 和 boostpulse_duration</h2><p><code>boost</code> 这个参数由内核写入。如果非零，立即提高所有 CPU 的频率到该 CPU 的 <code>hispeed_freq</code> 甚至更高，直到零被写入此属性，期间无论负载是否降低都不会引起频率的改变。如果为零，则会允许 CPU 频率根据负载而降低到低于 <code>hispeed_freq</code> 设定的频率。默认值为零。<br><code>boostpulse_duration</code> 指在每次 <code>boost</code> 被写入后，CPU 的频率被提升到 <code>hispeed_freq</code> 后在该频率下运行的最低间隔。在该间隔之内，就算 <code>boost</code> 值重新设为零，CPU 仍不会降频。</p><hr><h1 id="其它参数"><a href="# 其它参数" class="headerlink" title="其它参数"></a>其它参数</h1><h2 id="io-is-busy"><a href="#io-is-busy" class="headerlink" title="io_is_busy"></a>io_is_busy</h2><p>这个参数决定是否根据设备的存储有关的 I/O （包括数据在存储上的读写、数据库的修改、熵的增加等）而提升 CPU 频率，以便加快 I/O 性能。</p><h2 id="align-windows"><a href="#align-windows" class="headerlink" title="align_windows"></a>align_windows</h2><p>是否对齐所有 CPU 的计时器窗口。对齐的优点是同时评估整个簇的 CPU 以便获得对整个簇的 CPU 的负载信息。缺点是整个簇的 CPU 会同时上线和同时离线导致性能突然增加或突然下降。现在一般都不会开启。</p><h2 id="scaling-min-freq- 和 -scaling-max-freq"><a href="#scaling-min-freq- 和 -scaling-max-freq" class="headerlink" title="scaling_min_freq 和 scaling_max_freq"></a>scaling_min_freq 和 scaling_max_freq</h2><p>在 CPU 的设计的容许频率范围内（一般都是由内核规定）再设定一个 CPU 的运行频率区间，内核将会在这个区间内选择 CPU 的运行频率。</p><h2 id="ignore-hispeed-on-notif"><a href="#ignore-hispeed-on-notif" class="headerlink" title="ignore_hispeed_on_notif"></a>ignore_hispeed_on_notif</h2><p>如果该参数非零，则频率的改变由调度程序触发，则不应用上述与频率设定相关的逻辑（比如不再根据负载控制频率）。</p><h2 id="fast-ramp-down"><a href="#fast-ramp-down" class="headerlink" title="fast_ramp_down"></a>fast_ramp_down</h2><p>如果非零，则不应用 <code>min_sample_time</code>。</p><h2 id="max-freq-hysteresis"><a href="#max-freq-hysteresis" class="headerlink" title="max_freq_hysteresis"></a>max_freq_hysteresis</h2><p>这是 <code>interave</code> 调速器的一个扩展，保持 <code>interative</code> 调速器在 <code>policy-&gt; max</code> 的时间。</p><h2 id="use-sched-load"><a href="#use-sched-load" class="headerlink" title="use_sched_load"></a>use_sched_load</h2><p>如果该值非零，则 <code>align_windows</code> 则不会生效。</p><h2 id="use-migration-notif"><a href="#use-migration-notif" class="headerlink" title="use_migration_notif"></a>use_migration_notif</h2><p>是否在所有 CPU 之间对齐定时器窗口。</p><hr><p>本文参考了 linux CPU 调速器机制文档和 CAF 的相关文档。</p><blockquote style="margin:2em 0 0;padding:.5em 1em;border-left:3px solid #f44336;background-color:#f5f5f5;list-style:none"><p><strong>本文采用 <a rel="nofollow noopener" href="https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank">CC BY-NC-SA 3.0 Unported</a> 协议进行许可，阅读 <a href="/creativecommons.html" target="_blank">相关说明</a></strong><br><strong>本文链接：</strong><a href="https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html">https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html</a></p></blockquote></div><div id="disqus-comment"><div id="disqus_thread"></div><style>.disqus_click_btn{line-height:30px;margin:0;min-width:50px;padding:0 14px;display:inline-block;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:400;text-transform:uppercase;letter-spacing:0;overflow:hidden;will-change:box-shadow;transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1),color .2s cubic-bezier(.4,0,.2,1);outline:0;cursor:pointer;text-decoration:none;text-align:center;vertical-align:middle;border:0;background:rgba(158,158,158,.2);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);color:#fff;background-color:#546e7a;text-shadow:0;display:none}</style><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config=function(){this.page.url="https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html",this.page.identifier="https://blog.nfz.moe/archives/cpu-governer-interative-core-ctl.html"}</script><script type="text/ls-javascript" id="disqus-lazy-load-script">$.ajax({
        url: 'https://disqus.com/next/config.json',
        timeout: 2500,
        type: 'GET',
        success: (function() {
            var d = document;
            var s = d.createElement('script');
            s.src = '//neofelhzblog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
            $('.disqus_click_btn').css('display','none');
        })(),
        error: function() {
          $('.disqus_click_btn').css('display','block');
        }
    });
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//neofelhzblog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.disqus_click_btn').css('display','none');
    });</script></div><style>#disqus-comment{background-color:#eee;padding:2pc}</style></div><nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col"><a href="/archives/a-fork-in-the-road-cyangenmod.html" id="post_nav-newer" class="prev-content"><button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"><i class="material-icons">arrow_back</i></button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 新篇</a><div class="section-spacer"></div><a href="/archives/android-captive-portal.html" id="post_nav-older" class="next-content">旧篇 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"><i class="material-icons">arrow_forward</i></button></a></nav></div></div><div class="sidebar-overlay"></div><aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation"><div id="sidebar-main"><div class="sidebar-header header-cover" style="background-image:url(https://s.nfz.yecdn.com/img/u.png!t)"><div class="top-bar"></div><button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display:initial" data-upgraded=",MaterialButton,MaterialRipple"><i class="material-icons">clear_all</i><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button><div class="sidebar-image"><img src="https://s.nfz.yecdn.com/img/pwa-icons/icon-96x96.png!t" alt="neoFelhz's avatar"></div><a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">neofelhz@gmail.com<b class="caret"></b></a></div><ul class="nav sidebar-nav"><li class="dropdown"><ul id="settings-dropdown" class="dropdown-menu"><li><a href="mailto:neofelhz@gmail.com" target="_blank" title="Email Me"><i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i> Email Me</a></li><li><a href="https://nfz.moe" target="_blank" title="nfz.moe"><i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">explorer</i> nfz.moe</a></li></ul></li><li id="sidebar-first-li"><a href="/"><i class="material-icons sidebar-material-icons">home</i> 主页</a></li><li class="dropdown"><a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown"><i class="material-icons sidebar-material-icons">apps</i> 分类<b class="caret"></b></a><ul class="dropdown-menu"><li><a class="sidebar_archives-link" href="/categories/分享镜/">分享镜<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/博客栈/">博客栈<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/categories/实验室/">实验室<span class="sidebar_archives-count">18</span></a></li><li><a class="sidebar_archives-link" href="/categories/异闻堂/">异闻堂<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/categories/自言语/">自言语<span class="sidebar_archives-count">6</span></a></li></ul></li><li><a href="/timeline.html" title="归档"><i class="material-icons sidebar-material-icons">inbox</i> 归档</a></li><li class="divider"></li><li><a href="/about.html" title="关于"><i class="material-icons sidebar-material-icons">person</i> 关于</a></li><li><a href="/tags.html" title="标签"><i class="material-icons sidebar-material-icons">bookmark</i> 标签</a></li><li><a href="/gallery.html" title="映像"><i class="material-icons sidebar-material-icons">photo</i> 映像</a></li><li><a href="/links.html" title="友链"><i class="material-icons sidebar-material-icons">people</i> 友链</a></li><li class="divider"></li><li><a href="/archives">文章总数 <span class="sidebar-badge">50</span></a></li></ul></div><span id="footer-image"><a href="https://www.upyun.com/" target="_blank" title="upyun_logo"><img src="https://s.nfz.yecdn.com/img/upyun_logo.svg" alt="upyun_logo"></a></span></aside><div id="back-to-top" class="toTop-wrap"><a href="#top" class="toTop"><i class="material-icons footer_top-i">expand_less</i></a></div><footer class="mdl-mini-footer" id="bottom"><div class="mdl-mini-footer--left-section sns-list"><a href="https://github.com/neoFelhz" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-github"><span class="visuallyhidden">Github</span></button></a><a href="https://www.zhihu.com/people/neoFelhz" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu"><span class="visuallyhidden">Zhihu</span></button></a><a href="https://t.me/neoFelhz" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-telegram"><span class="visuallyhidden">Telegram</span></button></a><a href="https://www.v2ex.com/member/neoFelhz" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-v2ex"><span class="visuallyhidden">V2EX</span></button></a></div><div id="copyright">Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd=new Date;document.write("&nbsp;"+fd.getFullYear()+"&nbsp;")</script>neoFelhz's Blog</div><div class="mdl-mini-footer--right-section"><div><div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div><div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div></div></div></footer><script>lsloader.load("lazyload_js","https://s.nfz.yecdn.com/js/lazyload.min.js",!0)</script><script>lsloader.load("js_js","https://s.nfz.yecdn.com/js/js.min.js",!0)</script><script>lsloader.load("np_js","https://s.nfz.yecdn.com/js/nprogress.js",!0)</script><script type="text/ls-javascript" id="NProgress-script">NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#212121'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #212121, 0 0 15px #212121'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#212121',
        'border-left-color': '#212121'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 350);</script><script>var agent=navigator.userAgent.toLowerCase();agent.indexOf("ucbrowser")>0&&(document.write('<link rel="stylesheet" href="/css/uc.css">'),alert("由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。"))</script><script type="text/ls-javascript" id="window-load">$(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });</script><script type="text/ls-javascript" id="lazy-load">// Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });</script><script>lsloader.load("sw_js","https://s.nfz.yecdn.com/static/js/sw-reg.js",!0)</script><script>!function(){for(var e=document.querySelectorAll('script[type="text/ls-javascript"]'),r=0;r<e.length;++r){var o=e[r];lsloader.runInlineScript(o.id,o.id)}}(),console.log("\n %c © Material Theme | Version: 1.5.0 | https://github.com/viosey/hexo-theme-material %c \n","color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;","color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;")</script></main></div></body></html>